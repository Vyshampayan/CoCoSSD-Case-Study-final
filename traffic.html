<html>
<head>

	<title>Object Detection</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.0.0/p5.js"></script>

  <script src="https://unpkg.com/ml5@latest/dist/ml5.min.js"></script>
  
  <style>
    body{
      background-size: cover;
      background-position: center;
  }
  canvas{
      border-radius: 5px;
      box-shadow: 5px 5px 5px black;
  }
  .heading
  {
  font-size: 23px;
  width: 100%;
  margin: 0px;
  }
  
  #status
  {
  font-size: 18px;
  margin: 0;
  }
  .reverse{
    background-color:yellow;
    border-radius: 5px;
    color: rgb(255, 0, 0);
    margin: 10px;
    width: 70px;
  }
  
  </style>
</head>

<body background="bg.jpg">
  <center>
    <h1 class="heading btn btn-info">Object Car</h1>
    <h3 id="status" class="btn btn-danger">Status:</h3><br>
    <a class="btn reverse" href="Index.html">Back</a><br>
    

  </center>

  <script>
    img="";
    status="";
    object=[];
function preload(){
 img=loadImage("car.jpg");
}
function setup(){
 canvas = createCanvas(600,400);
canvas.center();

objectDetector= ml5.objectDetector("cocossd", modelloaded)
 document.getElementById("status").innerHTML="Status:Detecting Objects";
}
function modelloaded(){
    console.log("model loaded");
    status=true;
    objectDetector.detect(img,gotResults);
}
function gotResults(error,results){
if(error){
console.log(error);
}
console.log(results);
object=results;
}
function draw(){
 image(img,0,0,600,400);
 if(status != ""){
        for(i=0;i < object.length; i++){
            document.getElementById("status").innerHTML="Status:Objects Detected";
            fill("green");
            percent= floor(object[i].confidence *100);
            text(object[i].label + " " + percent + "%",object[i].x,object[i].y)
            noFill()
            stroke("green");
            rect(object[i].x,object[i].y,object[i].width,object[i].height);
        }
    }
}
</script>

</body>
</html>